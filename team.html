<html lang="en">

<head>
    <!-- El head se gestiona aquí directamente -->
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Rolling Barrel Studio</title>
    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900&family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <!-- Vendor CSS Files -->
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
    <!-- Main CSS File -->
    <link href="assets/css/main.css" rel="stylesheet">
</head>

<body class="gallery-page">

    <!-- Aquí se incluirá el header mediante JavaScript -->
    <div id="header-placeholder"></div>

    <main class="main">

        <!-- Hero Section -->
        <section id="hero" class="hero section dark-background">
            <img src="assets/img/hero-bg.jpg" alt="">
            <div class="container d-flex flex-column align-items-center">
                <h2>Chrysalis Gallery</h2>
                <p>Explore the aspect of our work</p>
                <div class="d-flex mt-4">
                    <a href="#gallery" class="btn-get-started">Discover</a>
                </div>
            </div>
        </section>
        <!-- /Hero Section -->

        <!-- Gallery Section -->
        <section id="gallery" class="gallery section">
            <div class="container">
                <div class="layout" data-default-filter="*" data-layout="masonry" data-sort="original-order">
                    <ul class="gallery-filters">
                        <li data-filter="*" class="filter-active">All</li>
                        <li data-filter=".filter-artist">Artists</li>
                        <li data-filter=".filter-programmer">Programmers</li>
                    </ul>

                    <div id="gallery-placeholder">
                        <!-- Items will be dynamically added here -->
                    </div>
                </div>
            </div>
        </section>

    </main>


    <!-- Aquí se incluirá el footer mediante JavaScript -->
    <footer id="footer" class="footer dark-background">
        <div class="container footer-top">
            <div class="row gy-4 justify-content-center">
                <div class="col-lg-4 col-md-6 col-12 footer-about">
                    <a href="/" class="logo d-flex align-items-center">
                        <span class="sitename">Rolling Barrel Stuido</span>
                    </a>
                    <!-- <div class="footer-contact pt-3">
						<p>C/ de Badajoz, 73</p>
						<p>Sant Martí, 08005 Barcelona</p>
						<p class="mt-3"><strong>Phone:</strong> <span>+1 5589 55488 55</span></p>
						<p><strong>Email:</strong> <span>info@example.com</span></p>
					</div> -->
                    <div class="social-links d-flex mt-4">
                        <a href=""><i class="bi bi-twitter-x"></i></a>
                        <a href=""><i class="bi bi-facebook"></i></a>
                        <a href=""><i class="bi bi-instagram"></i></a>
                        <a href=""><i class="bi bi-linkedin"></i></a>
                    </div>
                </div>

                <div class="col-lg-4 col-md-6 col-12 footer-links">
                    <h4>Useful Links</h4>
                    <ul style="column-count: 2;">
                        <li><i class="bi bi-chevron-right"></i> <a href="/">Home</a></li>
                        <li><i class="bi bi-chevron-right"></i> <a href="/game">Game</a></li>
                        <li><i class="bi bi-chevron-right"></i> <a href="/gallery">Gallery</a></li>
                        <li><i class="bi bi-chevron-right"></i> <a href="/team">Team</a></li>
                        <li><i class="bi bi-chevron-right"></i> <a href="/about">About</a></li>
                    </ul>
                </div>


            </div>
        </div>

        <div class="container copyright text-center mt-4">
            <p>© <span>Copyright</span> <strong class="color-accent">Rolling Barrel Studio</strong></p>
            <div class="">
                All Rights Reserved
            </div>
        </div>
    </footer>

    <!-- Incluir el header con JavaScript -->
    <script>
        // Cargar el header
        fetch("inc/header.html")
            .then(response => response.text())
            .then(data => {
                document.getElementById("header-placeholder").outerHTML = data;
            });
    </script>

    <script>
        // Function to create the gallery
        function createGallery(data) {
            let content = `<div class="row gy-4 mt-4">`;
            data.forEach((person) => {
                content += `<div class="col-lg-3 col-md-4 col-6 gallery-item filter-${person.Filter}">
                        <div class="member">
                            <div class="pic"><img src="assets/img/team/team-placeholder.jpg" class="img-fluid" alt=""></div>
                            <div class="member-info">
                                <h4>${person.Name}</h4>
                                <span>${person.Roles}</span>
                                <div class="social">
                                    ${person.Linkedin ? `<a href="${person.Linkedin}" target="_blank"><i class="bi bi-linkedin"></i></a>` : ""}
                                    ${person.GitHub ? `<a href="${person.GitHub}" target="_blank"><i class="bi bi-github"></i></a>` : ""}
                                    ${person.ArtStation ? `<a href="${person.ArtStation}" target="_blank"><i class="fab fa-artstation"></i></a>` : ""}
                                    ${person.Website ? `<a href="${person.Website}" target="_blank"><i class="bi bi-globe"></i></a>` : ""}
                                </div>
                            </div>
                        </div>
                    </div>`;
            });
            content += `</div>`;

            const gallery = document.getElementById("gallery-placeholder");
            gallery.outerHTML = content;
        }

        function addFilterLogic() {
            var filterButtons = document.querySelectorAll('.gallery-filters li');
            filterButtons.forEach(button => {
                button.addEventListener('click', function () {
                    // Set active
                    var activeFilter = document.querySelector('li.filter-active')
                    if (activeFilter) {
                        activeFilter.classList.remove("filter-active");
                    }
                    this.classList.add("filter-active");

                    // Filter elements 
                    var filterValue = this.getAttribute('data-filter');
                    var items = document.querySelectorAll('.gallery-item');
                    if (filterValue == '*') {
                        items.forEach(item => { item.style.display = "block" });
                    } else {
                        items.forEach(item => { item.style.display = "none" });
                        var itemsToEnable = document.querySelectorAll(filterValue);
                        itemsToEnable.forEach(item => { item.style.display = "block" });
                    }
                });
            });
        }

        // Read gallery data from JSON
        fetch("assets/json/team_info.json")
            .then(response => response.json())
            .then(data => {
                // Call the function to generate the gallery
                createGallery(data);
                addFilterLogic();
            });

    </script>

    <!-- Scroll Top -->
    <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center">
        <i class="bi bi-arrow-up-short"></i>
    </a>

    <!-- Preloader -->
    <!-- <div id="preloader"></div> -->

    <!-- Vendor JS Files -->
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>

    <!-- Main JS File -->
    <script src="assets/js/main.js"></script>

</body>

</html>